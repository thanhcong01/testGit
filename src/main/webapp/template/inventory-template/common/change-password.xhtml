<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:form id="frmChangePwd">
	<p:growl id="confirmMessages" showDetail="true" severity="info, warn"
		autoUpdate="true" />
	<p:dialog id="dlg" closable="true"
		header="#{msg['page.caption.topbar-admin.dlgChangePassword.title']}"
		widgetVar="dlgChangePassword" modal="true" resizable="false"
		height="150" width="500">
		<h:panelGrid id="dlgPanelPwdInfo" columns="2">
			<h:outputLabel
				value="#{msg['page.caption.topbar-admin.dlgChangePassword.oldPassword']}(*)" />

			<p:password id="oldPassword"
				validator="#{passwordController.validate}"
				value="#{passwordController.oldPassword}" styleClass="Wid250p">
				<!-- styleClass="Wid200p"
				  -->
				<f:validator validatorId="emtyValidator" />
				<f:validator validatorId="spaceValidator" />
				<f:attribute name="kindOfValidate" value="validateOldPwd" />
			</p:password>
			<h:outputLabel />
			<p:message for="oldPassword" />

			<h:outputLabel
				value="#{msg['page.caption.topbar-admin.dlgChangePassword.newPassword']}(*)" />
			<p:password id="newPassword"
				label="#{msg['page.caption.topbar-admin.dlgChangePassword.newPassword']}"
				value="#{passwordController.newPassword}" styleClass="Wid250p"
				maxlength="20">
				<f:attribute name="msglabel"
					value="#{msg['page.caption.topbar-admin.dlgChangePassword.newPassword']}" />
				<f:validator validatorId="emtyValidator" />
				<f:validator validatorId="passwordValidator" />
			</p:password>
			<h:outputLabel />
			<p:message for="newPassword" />

			<h:outputLabel
				value="#{msg['page.caption.topbar-admin.dlgChangePassword.reEnterNewPassword']} (*)" />
			<p:password id="reEnterPassword"
				validator="#{passwordController.validate}"
				label="#{msg['page.caption.topbar-admin.dlgChangePassword.reEnterNewPassword']}"
				value="#{passwordController.reEnterPassword}" styleClass="Wid250p"
				maxlength="20">

				<f:attribute name="msglabel"
					value="#{msg['page.caption.topbar-admin.dlgChangePassword.reEnterNewPassword']}" />
				<f:validator validatorId="emtyValidator" />
				<f:attribute name="kindOfValidate" value="validateReEnterPwd" />
			</p:password>
			<h:outputLabel />
			<p:message for="reEnterPassword" />
		</h:panelGrid>

		<f:facet name="footer">
			<p:commandButton icon="ui-icon-check"
				action="#{passwordController.changePassword}"
				value="#{msg['common.button.save']}"
				title="#{msg['common.button.save.tooltip']}"
				update="@([id$=dlgPanelPwdInfo]) @([id$=confirmMessages])">
			</p:commandButton>
			<p:commandButton icon="ui-icon-closethick" id="btnCancel"
				value="#{msg['common.button.cancel']}" immediate="true"
				title="#{msg['common.button.cancel.tooltip']}"
				oncomplete="PF('dlgChangePassword').hide();">
				<p:resetInput target=":frmChangePwd:dlg" />
			</p:commandButton>
		</f:facet>
	</p:dialog>
</h:form>
<h:form id="frmDialog_change_pass_success">
	<p:dialog header="Thông báo" widgetVar="showSuccess" modal="true"
		resizable="false">
		<p:outputLabel value="Thay đổi mật khẩu thành công."
			style="white-space: pre-wrap"></p:outputLabel>
		<div class="EmptyBox10" />
		<div class="EmptyBox10" />
		<div class="EmptyBox10" />
		<div style="float: right; margin-top: 10px;">
			<p:commandButton value="Thoát" onclick="PF('showSuccess').hide();"></p:commandButton>
		</div>
	</p:dialog>
</h:form>
</html>